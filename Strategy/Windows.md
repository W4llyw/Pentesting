## Enumeration

### Initial Discovery
Perform NMAP scans

[Autorecon](https://github.com/Tib3rius/AutoRecon) is also an amazing tool especially when ran as root.

### Check SMB for shares 
**NMAP:**

`nmap --script smb-enum-shares.nse -p445 <ip>`

### Discover Users
**CrackMapExec:**
needs read access to IPC share

`crackmapexec smb <ip or ip/cidr> -u <username> -p <password> --rid-brute`

**Impacket:**

`impacket-lookupsid <domain>/<user>@<ip>`

## Testing Users 
**Impacket:**

> ASREP-Roasting

If kerberos is being used and you have a username list this will see if any of the users are asrep-roastable. GetNPUsers will list and get TGTs for users that have the "Do not require Kerberos preauthentication" set.

`impacket-GetNPUsers <domain>/ -no-pass -usersfile <userslistfile>`

> GetUserSPNs

Get Service Principle Names, these accounts can give you the TGS as they are used by Kerberos to associate a service with a service logon account.

*--creds needed--*

`impacket-GetUserSPNs <domain_name>/<domain_user>:<password> -outputfile <filename>`

## Information Gathering
**Powershell**

List all files in a directory (.) recursively

`gci -recurse . | select fullname`

**WinPeas**

Research discovered CVE's
Gather as much information as possible

**systeminfo**

Discover exactly what type of system you are dealing with.
See just how well patched the system is if at all.

## Kernel Exploits
**Windows Exploit Suggester**

https://github.com/AonCyberLabs/Windows-Exploit-Suggester

You can also use metasploit exploit suggester to find kernel exploits.
